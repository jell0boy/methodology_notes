#### Manual
```bash
# Anonymous
rpcclient -U="" $IP

# Authenticated
rpcclient -U="<user>" $IP --workgroup=<domain>
```

Manual Commands
```bash
##Commands within in RPCclient
srvinfo
enumdomusers #users
enumpriv #like "whoami /priv"
queryuser <user> #detailed user info
getuserdompwinfo <RID> #password policy, get user-RID from previous command
lookupnames <user> #SID of specified user
createdomuser <username> #Creating a user
deletedomuser <username>
enumdomains
enumdomgroups
querygroup <group-RID> #get rid from previous command
querydispinfo #description of all users
netshareenum #Share enumeration, this only comesup if the current user we're logged in has permissions
netshareenumall
lsaenumsid #SID of all users
```

Change user passwords
See [[AD Attacks]]
#### Automated

Dump RPC info
```bash
# Anonymous
impacket-rpcdump <ip_address>

# Authenticated
impacket-rpcdump '<domain>'/'<user>':'<password>'@'<ip>'
```

RID Cycling (User Enumeration)
```bash
# nxc method
nxc smb <ip> -d <domain> -u 'guest' -p '' --rid-brute

# impacket-lookupsid method
impacket-lookupsid <domain>/guest@<ip> -n
```
